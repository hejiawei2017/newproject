<!DOCTYPE html>
<html lang="en" style="font-size: 110%">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="//res2.wx.qq.com/open/js/jweixin-1.4.0.js"></script>
    <title>Locals路客精品民宿</title>
  </head>
  <body style="display:none" class="body">
    <div class="container" id="app">

      <div class="panel-body" v-if="showModal==0">
        <div class="vue-form-generator">
          <fieldset>
              <div class="form-group valid readonly field-input">
                <h2 class="panel-heading">签约类型(待审核)<span class="star">*</span></h2>
                <div class="field-wrap">
                  <div class="wrapper">
                      <select ref="contractType"  v-model="model.contractType">
                        <option v-for="option in selectArr.contractType" v-bind:value="option.value" >
                          {{ option.text }}
                        </option>
                      </select>
                  </div>
                </div>
              </div>

              <div class="form-group valid readonly field-input" v-if="checkRole('des,cam,pm,cleaner,aid','signCity')">
                  <h2 class="panel-heading" v-if="model.contractType == '签约设计师' || model.contractType.includes('保洁') || model.contractType =='签约助理房东'">接单城市<span class="star">*</span></h2>
                  <h2 class="panel-heading" v-else>区域-城市<span class="star">*</span></h2>
                  <div class="field-wrap">
                    <div class="wrapper">
                        <model-list-select :list="options"
                                v-model="model.signCity"
                                option-value="text"
                                option-text="text"
                                placeholder="请选择城市">
                        </model-list-select>
                    </div>
                  </div>
              </div>

              <div v-if="checkRole('cleaner','signDistrict')">
                <h2 class="panel-heading">接单区域<span class="star"></span></h2>
                <vue-form-generator :schema="signDistrictSchema" :model="model" :options="formOptions"></vue-form-generator>
              </div>

              <div class="form-group valid readonly field-input" v-if="checkRole('des,cleaner','signType')">
                  <h2 class="panel-heading">签约方式<span class="star">*</span></h2>
                  <div class="field-wrap">
                    <div class="wrapper">
                        <select ref="signType" v-model="model.signType">
                          <option v-for="option in selectArr.signType" v-bind:value="option.value">
                            {{ option.text }}
                          </option>
                        </select>
                    </div>
                  </div>
              </div>
            </fieldset>
        </div>

        <!-- 团队名称 -->
        <vue-form-generator  :schema="teamNameSchema" :model="model" :options="formOptions" v-if="model.contractType == '签约设计师' && model.signType == 1"></vue-form-generator>

          <div v-if="checkRole('des,cam,pm,aid','personSchema')">
            <h2 class="panel-heading">个人信息</h2>
            <div class="panel-msg">重要提醒：务必准确填写以下信息，网签合同以此为准。谢谢！</div>
            <vue-form-generator :schema="personSchema" :model="model" :options="formOptions"></vue-form-generator>
            <div class="vue-form-generator">
                <fieldset>
                    <div class="form-group valid readonly required field-input">
                        <label for=""><span>工作状态</span></label>
                        <div class="field-wrap">
                          <div class="wrapper">
                              <select ref="workStatus" v-model="model.workStatus">
                                <option v-for="option in selectArr.workStatus" v-bind:value="option.value">
                                  {{ option.text }}
                                </option>
                              </select>
                          </div>
                        </div>
                    </div>
                    <div class="form-group valid readonly required field-input">
                        <label for=""><span>工作年限</span></label>
                        <div class="field-wrap">
                          <div class="wrapper">
                              <select ref="workAge" v-model="model.workAge">
                                <option v-for="option in selectArr.workAge" v-bind:value="option.value">
                                  {{ option.text }}
                                </option>
                              </select>
                          </div>
                        </div>
                    </div>
                </fieldset>
            </div>
          </div>

          <div v-if="checkRole('cleaner','cleanerPersonSchema')">
            <!-- （signType == 0个人 || 1团队） || 2公司 -->
            <div v-if="model.signType == 0 || model.signType == 1">
              <h2 class="panel-heading">个人信息</h2>
              <div class="panel-msg">重要提醒：务必准确填写以下信息，网签合同以此为准。谢谢！</div>
              <vue-form-generator :schema="cleanerPersonSchema" :model="model" :options="formOptions"></vue-form-generator>
            </div>
          </div>

          <div v-if="checkRole('cleaner','cleanerCompanySchema')">
            <!-- （signType == 0个人 || 1团队） || 2公司 -->
            <div v-if="model.signType == 2">
              <h2 class="panel-heading">个人信息</h2>
              <div class="panel-msg">重要提醒：务必准确填写以下信息，网签合同以此为准。谢谢！</div>
              <vue-form-generator :schema="cleanerCompanySchema" :model="model" :options="formOptions"></vue-form-generator>
            </div>
          </div>

          <div v-if="checkRole('cleaner','cleanerCompanyLicense') && model.signType == 2">
            <h2 class="panel-heading">营业执照<span class="red"> *</span></h2>
            <div class="designer-box">
              <span class="designer-box-img">
                <div class="dz-clickable dz-started">
                  <div class="dz-message" style="overflow: hidden;">
                    <div class="weui-uploader__input-box">
                      <input type="file" id="fileUpload" ref="designFile" accept="image/png" v-on:change="onCompanyLicenseUpload" class="file-btn weui-uploader__input-box">
                    </div>
                  </div>
              </span>
            </div>
            <div class="vux-flexbox vux-flex-row add-row" v-for="option in companyLicenseArr">
              <div class="vux-flexbox-item">
                {{ option.name }}
              </div>

              <div class="vux-flexbox-item" style="flex: 0 0 33.3333%;">
                <div class="wrap-img">
                  <img :src=option.url class="vux-x-img b-loaded" />
                </div>
              </div>

              <div class="vux-flexbox-item" style="flex: 0 0 8.33333%;" :id=option.name v-on:click="onCompanyLicenseClose">
                <i class="weui-icon weui_icon_clear weui-icon-clear" :id=option.name>&nbsp;</i>
              </div>
            </div>
          </div>


          <!-- 收款账号：银行-->
          <div v-if="checkRole('des,cam,pm','shroffSchema')">
            <h2 class="panel-heading">收款账号信息</h2>
            <div class="panel-msg">收款账户，请仔细核对好收款人姓名及账号，<br/>如果由于乙方提供的账户信息错误导致甲方付款失败，造成损失由乙方承担。</div>
            <vue-form-generator  :schema="shroffSchema" :model="model" :options="formOptions"></vue-form-generator>
          </div>

          <!-- aid收款账号：银行 + 支付宝-->
          <div v-if="checkRole('aid','aidShroffSchema')">
            <h2 class="panel-heading">收款账号信息</h2>
            <div class="panel-msg">收款账户，请仔细核对好收款人姓名及账号，<br />如果由于乙方提供的账户信息错误导致甲方付款失败，造成损失由乙方承担。</div>
            <vue-form-generator :schema="aidShroffSchema" :model="model" :options="formOptions"></vue-form-generator>
          </div>

          <div v-if="checkRole('des','desIntrodSchema')">
            <h2 v-if="model.signType == 1" class="panel-heading">团队介绍<span class="red"> *</span></h2>
            <h2 v-else class="panel-heading">设计师介绍<span class="red"> *</span></h2>
            <div class="panel-msg">20-50字，介绍个人/团队名字，设计理念，禁止出现有关公司/团队宣传性质字眼、联系信息。例：设计师：fanny理念：设计源于生活，细节成就品质。成就空间和谐让设物有所值让细节缔造</div>
            <textarea rows="6" cols="20" v-model="model.introduce" maxlength="50"></textarea>
          </div>


          <div v-if="checkRole('des','desIntrodUpload') && model.signType != 1">
            <h2 class="panel-heading">设计师签名<span class="red"> *</span></h2>
            <span class="designer-title">上传签名示例：</span>
            <div class="designer-box">
                <span class="designer-box-img">
                    <div class="dz-clickable dz-started">
                      <div class="dz-message" style="overflow: hidden;">
                        <div class="weui-uploader__input-box" >
                        <input type="file" id="fileUpload" ref="designFile" accept="image/png" v-on:change="onDesSignUpload" class="file-btn weui-uploader__input-box">
                      </div>
                    </div>
                </span>
                <span class="designer-box-text">
                    上传图片要求：<br>
                    1.将签名做成400*200px大小的图片，PNG透明底格式<br>
                    2.白色字体，笔画不要太细
                </span>
            </div>
            <div class="vux-flexbox vux-flex-row add-row" v-for="option in signatureArr">
                <div class="vux-flexbox-item" >
                    {{ option.name }}
                </div>

                <div class="vux-flexbox-item" style="flex: 0 0 33.3333%;">
                  <div class="wrap-img">
                    <img :src=option.url class="vux-x-img b-loaded"/>
                  </div>
                </div>

                <div class="vux-flexbox-item" style="flex: 0 0 8.33333%;" :id=option.name v-on:click="onDesSignClose">
                   <i class="weui-icon weui_icon_clear weui-icon-clear" :id=option.name>&nbsp;</i>
                </div>
            </div>
            <span class="designer-footer">设计师签名</span>
          </div>

          <div v-if="checkRole('des','referrerSchema')">
              <h2 class="panel-heading" v-if="model.signType == 1">团队负责人信息</h2>
              <h2 class="panel-heading" v-else>推荐人信息</h2>
              <div class="panel-msg">推荐你进行网签的路客员工信息填这里</div>
              <vue-form-generator :schema="referrerSchema" :model="model" :options="formOptions"></vue-form-generator>
          </div>

          <div v-if="checkRole('des,cam,pm','assessSchema')">
              <label @click="this.modalScoreShow">
                <h2 class="panel-heading">考核分数</h2>
                <vue-form-generator class="gray" :schema="assessSchema" :model="model" :options="formOptions"></vue-form-generator>
                <div class="panel-msg mb-10"><a class="temp-png"  href="#">【开始做题】</a></div>
              </label>
          </div>

          <div v-if="checkRole('aid','aidOtherSchema')">
            <h2 class="panel-heading">其它信息</h2>
            <vue-form-generator :schema="aidOtherSchema" :model="model" :options="formOptions"></vue-form-generator>
          </div>

          <a class="temp-png" @click="this.modalShow" href="#" v-if="checkRole('des','desMsgLink') && model.signType != 1">
            《房屋室内软装设计业务合作协议-个人及团队》{{(this.model.agree)?"同意":"未同意"}}
          </a>
          <a class="temp-png" @click="this.modalShow" href="#" v-if="checkRole('cam','camMsgLink')">
            《Locals路客签约摄影师服务合同》{{(this.model.agree)?"同意":"未同意"}}
          </a>
          <a class="temp-png" @click="this.modalShow" href="#" v-if="checkRole('pm','pmMsgLink')">
            《Locals路客签约项目经理合同》{{(this.model.agree)?"同意":"未同意"}}
          </a>
          <a class="temp-png" @click="this.modalShow" href="#" v-if="checkRole('cleaner','cleanerMsgLink')">
            《Locals路客签约保洁合同》{{(this.model.agree)?"同意":"未同意"}}
          </a>
          <a class="temp-png" @click="this.modalShow" href="#" v-if="checkRole('aid','aidMsgLink')">
            《Locals助理签约助理房东服务合同》{{(this.model.agree)?"同意":"未同意"}}
          </a>
          <div class="vux-flexbox vux-flex-row">
            <div class="vux-flexbox-item">
              <button type="button" class="weui-btn weui-btn_warn" v-on:click="onSubmit">提交</button>
            </div>
          </div>

        </div>

        <div v-if="showModal == 1" class="v--modal-box vue-dialog scrollable" style="height:100%">
          <img style="width:100%" src="https://locals-house-prod.oss-cn-shenzhen.aliyuncs.com/websign/WechatIMG256.jpeg" v-if="checkRole('des','desMsgLink') && model.signType != 1" />
          <img style="width:100%" src="https://locals-house-prod.oss-cn-shenzhen.aliyuncs.com/websign/%E6%91%84%E5%BD%B1%E9%95%BF%E5%9B%BE.jpg" v-if="checkRole('cam','camMsgLink')" />
          <img style="width:100%" src="https://locals-house-prod.oss-cn-shenzhen.aliyuncs.com/websign/Locals%E8%B7%AF%E5%AE%A2%E7%AD%BE%E7%BA%A6%E9%A1%B9%E7%9B%AE%E7%BB%8F%E7%90%86%E5%90%88%E5%90%8C.png" v-if="checkRole('pm','pmMsgLink')" />
          <img style="width:100%" src="https://locals-house-prod.oss-cn-shenzhen.aliyuncs.com/upload/190408/F5BSY190408172141923.jpeg" v-if="checkRole('cleaner','cleanerMsgLink')" />
          <img style="width:100%" src="http://qy.localhome.com.cn/locals/temp/onlineContract/Locals%E8%B7%AF%E5%AE%A2%E7%AD%BE%E7%BA%A6%E5%8A%A9%E7%90%86%E6%88%BF%E4%B8%9C%E6%9C%8D%E5%8A%A1%E5%90%88%E5%90%8C.png?from=message&isappinstalled=0" v-if="checkRole('aid','aidMsgLink')" />
          <vue-form-generator class="checkForm" style="text-align: center" :schema="switchChema" :model="model" :options="formOptions" v-if="checkRole('des,cam,pm,cleaner','switchChema')"></vue-form-generator>
          <div class="vue-dialog-buttons"><button type="button" @click="modalScorehide('bar')" class="vue-dialog-button" style="flex: 1 1 100%;">关闭</button></div>
        </div>

        <div v-if="showModal == 2" class="v--modal-box vue-dialog scrollable" style="height:100%">
            <des-question class="question-box" @click-child="modalScoreClick" v-if="checkRole('des','desMsgQuestion')"></des-question>
            <cam-question class="question-box" @click-child="modalScoreClick" v-if="checkRole('cam','camMsgQuestion')"></cam-question>
            <pm-question class="question-box" @click-child="modalScoreClick"  v-if="checkRole('pm','pmMsgQuestion')"></pm-question>
        </div>


      </div>

    </div>
    </body>
</html>
