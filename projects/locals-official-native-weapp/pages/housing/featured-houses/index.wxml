<import src="./template.wxml" />

<view class="page">
  <view class="banner">
    <image mode="widthFix" src="{{ bannerUrl }}" />
  </view>
  <view class="contariner">
    <view class="header">
      <picker bindchange="bindPickerChange" value="{{selectedCityIndex}}" range="{{cityListRange}}">
        <view class="select-city-wrap">
          <view>当前城市：</view>
          <view>{{ cityInfo.cityName }}</view>
          <view>▼</view>
        </view>
      </picker>
      <template is="tags-container" data="{{ tagList, selectedId, width: '470rpx' }}" />
    </view>
    <view class="houses-wrap">
      <template 
        wx:for="{{ featuredHouses }}" 
        wx:key="{{ item.id }}"
        data="{{ item, like, unlike }}" 
        is="house-info"
      />
    </view>
    <view wx:if="{{ isLoading }}" class="weui-loadmore">
      <view class="weui-loading"></view>
      <view class="weui-loadmore__tips">正在加载</view>
    </view>
  </view>
  <view class="footer">
    <view class="footer-title"><text>没有合适？看看其他特色</text></view>
    <view class="footer-tags">
      <template is="tags-container" data="{{ tagList, selectedId, from: 'bottom' }}" />
    </view>
  </view>
</view>

<im-message
    id="im-message"
/>

<auth-drawer-box 
    id="auth-drawer-box"
    initHide="true"
    isCanCancel="{{ true }}"
    bind:cancelEvent="signInCallback"
/>