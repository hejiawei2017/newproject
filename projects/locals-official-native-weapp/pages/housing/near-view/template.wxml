<wxs src="../../../wxs/ImageUtils.wxs" module="imageUtils" />

<template name="house-info">
  <view class="house-info shadow-box" catch:tap="skipTo" data-type="detail" data-house-info="{{ item }}">
    <view class="house-images">
      <view class="left image-wrap pic-lose">
        <image mode='aspectFill' src="{{ imageUtils.processImage(item.houseImages[0].imagePath) }}" />
      </view>
      <view class="right">
        <view class="image-wrap pic-lose">
          <image mode='aspectFill' src="{{ imageUtils.processImage(item.houseImages[1].imagePath) }}" />
        </view>
        <view class="image-wrap pic-lose">
          <image mode='aspectFill' src="{{ imageUtils.processImage(item.houseImages[2].imagePath) }}" />
        </view>
      </view>
    </view>
    <view class="params">
      <text class="paramsInfo">{{ item.cityName }} | {{ item.tenantNumber }}人·{{ item.roomNumber }}室·{{ item.bedNumber }}床·{{ item.toiletNumber }}卫</text>
      <text class="paramsTag" wx:if="{{ item.hotScenicSpotsShow }}">近{{ item.hotScenicSpotsShow.hotScenicSpot }}</text>
    </view>
    <view class="title-wrap">
      <view class="title ellipsis">{{ item.title }}</view>
      <view class="money-wrap"><text>{{ item.standardPrice }}</text></view>
    </view>
    <view class="line" />
    <view class="buttons">
      <view class="button" catch:tap="collection" data-house-info="{{ item }}">
        <view class="image-wrap">
          <image mode="widthFix" src='{{ item.isFav ? like : unlike }}' />
        </view>
        <text>喜欢</text> 
      </view>
      <view class="button" catch:tap="skipToPoster" data-house-info="{{ item }}">
        <view class="image-wrap">
          <image mode="widthFix" src='https://oss.localhome.cn/localhomeqy/share.png' />
        </view>
        <text>分享</text>
      </view>
    </view>
  </view>
</template>
<template name="city-container">
  <view class="city-view">
    <view class="city-wrap">
      <view 
        wx:for="{{ cityArr }}"
        wx:key="{{ item.cityCode }}"
        class="city {{ selectedCode === item.cityCode ? 'active' : '' }}"
        data-item="{{ item }}"
        data-from="bottom"
        catch:tap="selectCityArr"
      >
        {{ item.cityName }}
      </view>
    </view>
  </view>
</template>